{"ast":null,"code":"var _jsxFileName = \"/Users/gracechen/Documents/2021ConcordiaBootcamp/project-GROUP-e-commerce/client/src/components/ItemCard.js\";\nimport React, { createContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { ItemsContext } from \"./ItemsContext.js\";\n\nconst ItemCard = ({\n  item\n}) => {\n  const {\n    cartItems,\n    setCartItems,\n    reRender,\n    setReRender\n  } = React.useContext(ItemsContext);\n  const history = useHistory();\n\n  const handleItemDetails = e => {\n    if (e.key === \"Enter\" || e.type === \"click\") {\n      history.push(`/item/${item._id}`);\n    }\n  };\n\n  const handleAddToCart = ev => {\n    ev.stopPropagation();\n    let myIndex; //searchin for an item in the array who's id matches the id of the item we are addin to the cart\n\n    let selectedItem = cartItems.find((element, index) => {\n      if (item._id === element._id) {\n        myIndex = index;\n      }\n\n      return item._id === element._id;\n    }); //if we find selected item in the array of items, add selected quantity to the existing one;\n\n    if (selectedItem) {\n      //if we don't have enough of items give an alert\n      if ((selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.quantity) + 1 > item.numInStock) {\n        window.alert(\"Not enough of items\");\n      } else {\n        let cartCopy = [...cartItems];\n        let newQuantity = selectedItem === null || selectedItem === void 0 ? void 0 : selectedItem.quantity;\n        cartCopy[myIndex] = { ...selectedItem,\n          quantity: 1 + newQuantity\n        };\n        setCartItems(cartCopy);\n        setReRender(!reRender);\n      }\n    } //if we don't have matching item in the array - push it in the array\n    else {\n        setCartItems([...cartItems, { ...item,\n          quantity: 1\n        }]);\n        setReRender(!reRender);\n      }\n  }; //storing array with selected items in local storage if it's not empty\n\n\n  if ((cartItems === null || cartItems === void 0 ? void 0 : cartItems.length) !== 0) {\n    localStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n  }\n\n  return /*#__PURE__*/React.createElement(Wrapper, {\n    onClick: handleItemDetails,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 3\n    }\n  }, /*#__PURE__*/React.createElement(Img, {\n    src: item.imageSrc,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 4\n    }\n  }), /*#__PURE__*/React.createElement(Info, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 4\n    }\n  }, /*#__PURE__*/React.createElement(Name, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 5\n    }\n  }, item.name), /*#__PURE__*/React.createElement(Price, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 5\n    }\n  }, item.price), /*#__PURE__*/React.createElement(AddCartButton, {\n    onClick: handleAddToCart,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 5\n    }\n  }, \"ADD TO CART\")));\n};\n\nconst Wrapper = styled.div`\n\twidth: 350px;\n\theight: 350px;\n\tdisplay: flex;\n\tpadding: 20px;\n\tmargin: 10px 20px;\n\tborder-radius: 10px;\n\ttransition: 0.4s ease-in-out;\n\tbackground-color: var(--color-light-grey);\n\t&:hover {\n\t\tcursor: pointer;\n\t\tbox-shadow: -2px 2px 10px 5px #cacaca;\n\t}\n`;\nconst Img = styled.img`\n\twidth: 200px;\n\tmax-height: 250px;\n\tborder-radius: 10px;\n`;\nconst Info = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-left: 20px;\n`;\nconst Name = styled.div``;\nconst Price = styled.div`\n\tmargin-top: 25px;\n`;\nconst AddCartButton = styled.button`\n\tmargin-top: 15px;\n\tborder: none;\n\tborder-radius: 8px;\n\tfont-family: \"Poppins\", sans-serif;\n\tfont-size: 12px;\n\tbackground-color: var(--color-lime);\n\twidth: 100px;\n\theight: 40px;\n\ttransition: background-color 400ms ease-in-out;\n\t&:hover {\n\t\tcursor: pointer;\n\t\tbackground-color: var(--color-neon-lime);\n\t}\n`;\nexport default ItemCard;","map":{"version":3,"sources":["/Users/gracechen/Documents/2021ConcordiaBootcamp/project-GROUP-e-commerce/client/src/components/ItemCard.js"],"names":["React","createContext","useState","useEffect","styled","useHistory","ItemsContext","ItemCard","item","cartItems","setCartItems","reRender","setReRender","useContext","history","handleItemDetails","e","key","type","push","_id","handleAddToCart","ev","stopPropagation","myIndex","selectedItem","find","element","index","quantity","numInStock","window","alert","cartCopy","newQuantity","length","localStorage","setItem","JSON","stringify","imageSrc","name","price","Wrapper","div","Img","img","Info","Name","Price","AddCartButton","button"],"mappings":"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","sourcesContent":["import React, { createContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { ItemsContext } from \"./ItemsContext.js\";\n\nconst ItemCard = ({ item }) => {\n\tconst { cartItems, setCartItems, reRender, setReRender } = React.useContext(ItemsContext);\n\n\tconst history = useHistory();\n\n\tconst handleItemDetails = (e) => {\n\t\tif (e.key === \"Enter\" || e.type === \"click\") {\n\t\t\thistory.push(`/item/${item._id}`);\n\t\t}\n\t};\n\n\tconst handleAddToCart = (ev) => {\n\t\tev.stopPropagation()\n\n\t\tlet myIndex;\n\n\t\t//searchin for an item in the array who's id matches the id of the item we are addin to the cart\n\t\tlet selectedItem = cartItems.find((element, index) => {\n\t\t\tif (item._id === element._id) {\n\t\t\t\tmyIndex = index;\n\t\t\t}\n\n\t\t\treturn item._id === element._id;\n\t\t});\n\n\t\t//if we find selected item in the array of items, add selected quantity to the existing one;\n\t\tif (selectedItem) {\n\t\t\t//if we don't have enough of items give an alert\n\t\t\tif (selectedItem?.quantity + 1 > item.numInStock) {\n\t\t\t\twindow.alert(\"Not enough of items\");\n\t\t\t} else {\n\t\t\t\tlet cartCopy = [...cartItems];\n\t\t\t\tlet newQuantity = selectedItem?.quantity;\n\t\t\t\tcartCopy[myIndex] = {\n\t\t\t\t\t...selectedItem,\n\t\t\t\t\tquantity: 1 + newQuantity,\n\t\t\t\t};\n\t\t\t\tsetCartItems(cartCopy);\n\t\t\t\tsetReRender(!reRender)\n\t\t\t}\n\t\t}\n\n\t\t//if we don't have matching item in the array - push it in the array\n\t\telse {\n\t\t\tsetCartItems([...cartItems, { ...item, quantity: 1 }]);\n\t\t\tsetReRender(!reRender)\n\t\t}\n\t};\n\n\t//storing array with selected items in local storage if it's not empty\n\tif (cartItems?.length !== 0) {\n\t\tlocalStorage.setItem(\"cartItems\", JSON.stringify(cartItems));\n\t}\n\n\treturn (\n\t\t<Wrapper onClick={handleItemDetails}>\n\t\t\t<Img src={item.imageSrc} />\n\t\t\t<Info>\n\t\t\t\t<Name>{item.name}</Name>\n\t\t\t\t<Price>{item.price}</Price>\n\n\t\t\t\t<AddCartButton onClick={handleAddToCart}>ADD TO CART</AddCartButton>\n\t\t\t</Info>\n\t\t</Wrapper>\n\t);\n};\nconst Wrapper = styled.div`\n\twidth: 350px;\n\theight: 350px;\n\tdisplay: flex;\n\tpadding: 20px;\n\tmargin: 10px 20px;\n\tborder-radius: 10px;\n\ttransition: 0.4s ease-in-out;\n\tbackground-color: var(--color-light-grey);\n\t&:hover {\n\t\tcursor: pointer;\n\t\tbox-shadow: -2px 2px 10px 5px #cacaca;\n\t}\n`;\nconst Img = styled.img`\n\twidth: 200px;\n\tmax-height: 250px;\n\tborder-radius: 10px;\n`;\nconst Info = styled.div`\n\tdisplay: flex;\n\tflex-direction: column;\n\tmargin-left: 20px;\n`;\nconst Name = styled.div``;\nconst Price = styled.div`\n\tmargin-top: 25px;\n`;\nconst AddCartButton = styled.button`\n\tmargin-top: 15px;\n\tborder: none;\n\tborder-radius: 8px;\n\tfont-family: \"Poppins\", sans-serif;\n\tfont-size: 12px;\n\tbackground-color: var(--color-lime);\n\twidth: 100px;\n\theight: 40px;\n\ttransition: background-color 400ms ease-in-out;\n\t&:hover {\n\t\tcursor: pointer;\n\t\tbackground-color: var(--color-neon-lime);\n\t}\n`;\n\nexport default ItemCard;\n"]},"metadata":{},"sourceType":"module"}