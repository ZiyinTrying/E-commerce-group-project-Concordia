{"ast":null,"code":"var _jsxFileName = \"/Users/gracechen/Documents/Documents - Grace\\u2019s MacBook Pro/concordia-bootcamps/project-GROUP-e-commerce/client/src/components/Order.js\";\nimport React, { useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\nimport { useHistory } from \"react-router-dom\";\nimport { handleTotal } from \"./Total\";\nimport Button from \"./Button\";\nimport { ItemsContext } from \"./ItemsContext\";\n\nconst Order = () => {\n  const history = useHistory();\n  const {\n    reRender,\n    setReRender\n  } = useContext(ItemsContext); //variable that holds id of order that was stored in local storage\n\n  const orderId = localStorage.getItem(\"order-id\"); //variable to set up result of fetch\n\n  const [userOrder, setUserOrder] = useState(false);\n  useEffect(() => {\n    fetch(`/order/${orderId}`).then(res => res.json()).then(data => setUserOrder(data.result));\n  }, []);\n\n  const handleDeleteOrder = () => {\n    fetch(`/order/delete/${orderId}`, {\n      method: \"DELETE\",\n      headers: {\n        \"Content-Type\": \"application/json\"\n      }\n    }).then(res => res.json()).then(json => {\n      localStorage.removeItem(\"order-id\");\n      setReRender(!reRender);\n      history.push(\"/\");\n    }).catch(err => {\n      console.log(\"error\");\n    });\n  };\n\n  return /*#__PURE__*/React.createElement(Main, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Wrapper, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 13\n    }\n  }, /*#__PURE__*/React.createElement(Header, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, \"Order History\"), !userOrder ? /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, \"You did not place any order yet\") : /*#__PURE__*/React.createElement(Table, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"tbody\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 29\n    }\n  }, /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      textAlign: \"left\",\n      borderTop: \"1px solid lightgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 37\n    }\n  }, \"Description\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      textAlign: \"center\",\n      borderTop: \"1px solid lightgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 37\n    }\n  }, \"Quantity\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      textAlign: \"right\",\n      borderTop: \"1px solid lightgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 37\n    }\n  }, \"Price\")), userOrder === null || userOrder === void 0 ? void 0 : userOrder.items.map(item => {\n    return /*#__PURE__*/React.createElement(\"tr\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 64,\n        columnNumber: 49\n      }\n    }, /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: \"left\",\n        fontWeight: \"500\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 65,\n        columnNumber: 53\n      }\n    }, item.name), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: \"center\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 53\n      }\n    }, item.quantity), /*#__PURE__*/React.createElement(\"th\", {\n      style: {\n        textAlign: \"right\"\n      },\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 53\n      }\n    }, item.price));\n  }), /*#__PURE__*/React.createElement(\"tr\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 33\n    }\n  }, /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      textAlign: \"left\",\n      borderBottom: \"1px solid lightgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 37\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      textAlign: \"center\",\n      borderBottom: \"1px solid lightgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 37\n    }\n  }, \"\\xA0\"), /*#__PURE__*/React.createElement(\"th\", {\n    style: {\n      textAlign: \"right\",\n      borderBottom: \"1px solid lightgrey\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 37\n    }\n  }, \"$\", handleTotal(userOrder.items))))), userOrder && /*#__PURE__*/React.createElement(Div, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    onClick: () => {\n      handleDeleteOrder();\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 29\n    }\n  }, \"Cancel order\"))));\n};\n\nconst Main = styled.div`\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-top: 80px;\n`;\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    min-height: 75vh;\n    width: 900px;\n    border-radius: 10px;\n    margin: 30px;\n    margin-right: 0 auto;\n    box-shadow: -2px 2px 10px 5px #cacaca;\n    color: var(--color-light-grey);\n    background: var(--color-dark-grey);\n`;\nconst Header = styled.h1`\n    margin-top: 20px;\n    text-align: center;\n    background: var(--color-lime);\n    color: var(--color-dark-grey);\n    padding: 15px;\n    font-size: 26px;\n    width: 75%;\n    border-radius: 5px; \n`;\nconst Table = styled.table`\n    width: 90%;\n    margin: 20px;\n`;\nconst Div = styled.div`\n    margin-top: auto;\n    display: flex;\n    justify-content: space-evenly;\n`;\nexport default Order;","map":{"version":3,"sources":["/Users/gracechen/Documents/Documents - Graceâ€™s MacBook Pro/concordia-bootcamps/project-GROUP-e-commerce/client/src/components/Order.js"],"names":["React","useEffect","useState","useContext","styled","useHistory","handleTotal","Button","ItemsContext","Order","history","reRender","setReRender","orderId","localStorage","getItem","userOrder","setUserOrder","fetch","then","res","json","data","result","handleDeleteOrder","method","headers","removeItem","push","catch","err","console","log","textAlign","borderTop","items","map","item","fontWeight","name","quantity","price","borderBottom","Main","div","Wrapper","Header","h1","Table","table","Div"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useContext } from \"react\";\nimport styled from \"styled-components\";\n\nimport { useHistory } from \"react-router-dom\";\n\nimport { handleTotal } from \"./Total\";\nimport Button from \"./Button\";\nimport { ItemsContext } from \"./ItemsContext\";\n\nconst Order = () => {\n    const history = useHistory();\n\n    const { reRender, setReRender } = useContext(ItemsContext);\n\n    //variable that holds id of order that was stored in local storage\n    const orderId = localStorage.getItem(\"order-id\");\n\n    //variable to set up result of fetch\n\tconst [userOrder, setUserOrder] = useState(false);\n\n\tuseEffect(() => {\n\t\tfetch(`/order/${orderId}`)\n\t\t.then(res => res.json())\n\t\t.then(data => setUserOrder(data.result))\n\t},[])\n\n    const handleDeleteOrder = () => {\n        fetch(`/order/delete/${orderId}`, {\n            method: \"DELETE\",\n            headers: {\n                \"Content-Type\": \"application/json\",\n            },\n            \n        })\n        .then((res) => res.json())\n        .then((json) => {\n            localStorage.removeItem(\"order-id\");\n            setReRender(!reRender);\n            history.push(\"/\");\n        })\n        .catch((err) => {\n            console.log(\"error\");\n        })\n    }\n\n    return(\n        <Main>\n            <Wrapper>\n                <Header>Order History</Header>\n                {\n                    !userOrder ? (\n                        <p>You did not place any order yet</p>\n                    ) : (\n                        <Table>\n                            <tbody>\n                                <tr>\n                                    <th style={{ textAlign: \"left\", borderTop: \"1px solid lightgrey\"}}>Description</th>\n                                    <th style={{ textAlign: \"center\", borderTop: \"1px solid lightgrey\"}}>Quantity</th>\n                                    <th style={{ textAlign: \"right\", borderTop: \"1px solid lightgrey\"}}>Price</th>\n                                </tr>\n                                    {\n                                        userOrder?.items.map((item) => {\n                                            return (\n                                                <tr>\n                                                    <th style={{ textAlign: \"left\", fontWeight: \"500\"}}>{item.name}</th>\n                                                    <th style={{ textAlign: \"center\"}}>{item.quantity}</th>\n                                                    <th style={{ textAlign: \"right\"}}>{item.price}</th>\n                                                </tr>\n                                            )\n                                        })\n                                    }\n                                <tr>\n                                    <th style={{ textAlign: \"left\", borderBottom: \"1px solid lightgrey\"}}>Total</th>\n                                    <th style={{ textAlign: \"center\", borderBottom: \"1px solid lightgrey\"}}>&nbsp;</th>\n                                    <th style={{ textAlign: \"right\", borderBottom: \"1px solid lightgrey\"}}>${handleTotal(userOrder.items)}</th>\n                                </tr>\n                            </tbody>\n                        </Table>\n                    )\n                }\n                {\n                    userOrder && (\n                        <Div>\n                            <Button\n                                onClick={() => {\n                                    handleDeleteOrder();\n                                }}\n                            >\n                                Cancel order\n                            </Button>\n                        </Div>\n                )}\n            </Wrapper>\n        </Main>\n    )\n}\nconst Main = styled.div`\n    height: 100%;\n    width: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    padding-top: 80px;\n`;\nconst Wrapper = styled.div`\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    min-height: 75vh;\n    width: 900px;\n    border-radius: 10px;\n    margin: 30px;\n    margin-right: 0 auto;\n    box-shadow: -2px 2px 10px 5px #cacaca;\n    color: var(--color-light-grey);\n    background: var(--color-dark-grey);\n`;\nconst Header = styled.h1`\n    margin-top: 20px;\n    text-align: center;\n    background: var(--color-lime);\n    color: var(--color-dark-grey);\n    padding: 15px;\n    font-size: 26px;\n    width: 75%;\n    border-radius: 5px; \n`;\nconst Table = styled.table`\n    width: 90%;\n    margin: 20px;\n`;\nconst Div = styled.div`\n    margin-top: auto;\n    display: flex;\n    justify-content: space-evenly;\n`;\n\nexport default Order;"]},"metadata":{},"sourceType":"module"}